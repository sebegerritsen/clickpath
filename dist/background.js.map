{"version":3,"file":"background.js","mappings":"mBAMAA,OAAOC,QAAQC,YAAYC,YAAaC,IACtCC,QAAQC,IAAI,mCAAoCF,EAAQG,UAI1DP,OAAOQ,SAASC,UAAUN,YAAaO,IACrB,eAAZA,GACFV,OAAOW,KAAKC,MAAM,CAAEC,QAAQ,EAAMC,eAAe,GAASH,IACpDA,EAAK,IAAII,IACXf,OAAOW,KAAKK,YAAYL,EAAK,GAAGI,GAAI,CAAEE,KAAM,aAAcC,OAAQ,SAO1ElB,OAAOC,QAAQkB,kBAAkBhB,YAAY,CAC3CiB,EACAC,EACAC,KAEqB,SAAjBF,EAAQH,MACVK,EAAa,CACXC,SAAS,EACTC,KAAM,CACJC,WAAW,EACXC,QAAS1B,OAAOC,QAAQ0B,cAAcD,YAIrC,IAIT1B,OAAOC,QAAQ2B,UAAUzB,YAAY,CAACiB,EAASS,EAAQP,KACrDjB,QAAQC,IAAI,mCAAoCc,EAAQH,MAEnC,SAAjBG,EAAQH,MACVK,EAAa,CAAEC,SAAS,EAAMC,KAAM,CAAEC,WAAW,MAG5C,IAGTpB,QAAQC,IAAI,qC","sources":["webpack://clickpath/./src/background/service-worker.ts"],"sourcesContent":["/**\n * Corporater ClickPath - Background Service Worker\n * Simplified - most work is done by content script directly calling Corporater API\n */\n\n// Listen for extension installation\nchrome.runtime.onInstalled.addListener((details) => {\n  console.log('[ClickPath] Extension installed:', details.reason);\n});\n\n// Listen for keyboard commands\nchrome.commands.onCommand.addListener((command) => {\n  if (command === 'start-tour') {\n    chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n      if (tabs[0]?.id) {\n        chrome.tabs.sendMessage(tabs[0].id, { type: 'START_TOUR', tourId: '' });\n      }\n    });\n  }\n});\n\n// Handle external connections (for install detection from CVO)\nchrome.runtime.onMessageExternal.addListener((\n  message: { type: string },\n  _sender: chrome.runtime.MessageSender,\n  sendResponse: (response: { success: boolean; data?: unknown }) => void\n) => {\n  if (message.type === 'PING') {\n    sendResponse({\n      success: true,\n      data: {\n        installed: true,\n        version: chrome.runtime.getManifest().version\n      }\n    });\n  }\n  return true;\n});\n\n// Simple message relay\nchrome.runtime.onMessage.addListener((message, sender, sendResponse) => {\n  console.log('[ClickPath] Background received:', message.type);\n\n  if (message.type === 'PING') {\n    sendResponse({ success: true, data: { installed: true } });\n  }\n\n  return true;\n});\n\nconsole.log('[ClickPath] Service worker started');\n"],"names":["chrome","runtime","onInstalled","addListener","details","console","log","reason","commands","onCommand","command","tabs","query","active","currentWindow","id","sendMessage","type","tourId","onMessageExternal","message","_sender","sendResponse","success","data","installed","version","getManifest","onMessage","sender"],"ignoreList":[],"sourceRoot":""}